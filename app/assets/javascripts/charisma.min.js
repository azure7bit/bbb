$(document).ready(function(){$('#company_phone').keypress(function(){$(this).unsetMask();$(this).setMask("(99) 9999-9999-9999");});$('#item_color').jPicker({window:{expandable:true}});$('ul.main-menu li a').each(function(){if($($(this))[0].href==String(window.location))
$(this).parent().addClass('active');});$('ul.main-menu li:not(.nav-header)').hover(function(){$(this).animate({'margin-left':'+=5'},300);},function(){$(this).animate({'margin-left':'-=5'},300);});docReady();});function docReady(){$('a[href="#"][data-top!=true]').click(function(e){e.preventDefault();});$('.cleditor').cleditor();$('.datepicker').datepicker();$('.noty').click(function(e){e.preventDefault();var options=$.parseJSON($(this).attr('data-noty-options'));noty(options);});$("input:checkbox, input:radio, input:file").not('[data-no-uniform="true"],#uniform-is-ajax').uniform();$('[data-rel="chosen"],[rel="chosen"]').chosen();$('#myTab a:first').tab('show');$('#myTab a').click(function(e){e.preventDefault();$(this).tab('show');});$('.sortable').sortable({revert:true,cancel:'.btn,.box-content,.nav-header',update:function(event,ui){}});$('.slider').slider({range:true,values:[10,65]});$('[rel="tooltip"],[data-rel="tooltip"]').tooltip({"placement":"bottom",delay:{show:400,hide:200}});$('textarea.autogrow').autogrow();$('[rel="popover"],[data-rel="popover"]').popover();var elf=$('.file-manager').elfinder({url:'elfinder',}).elfinder('instance');$('.raty').raty({score:4});$('#file_upload').uploadify({'swf':'misc/uploadify.swf','uploader':'misc/uploadify.php'});$('ul.gallery li').hover(function(){$('img',this).fadeToggle(1000);$(this).find('.gallery-controls').remove();$(this).append('<div class="well gallery-controls">'+'<p><a href="#" class="gallery-edit btn"><i class="icon-edit"></i></a> <a href="#" class="gallery-delete btn"><i class="icon-remove"></i></a></p>'+'</div>');$(this).find('.gallery-controls').stop().animate({'margin-top':'-1'},400,'easeInQuint');},function(){$('img',this).fadeToggle(1000);$(this).find('.gallery-controls').stop().animate({'margin-top':'-30'},200,'easeInQuint',function(){$(this).remove();});});$('#toggle-fullscreen').button().click(function(){var button=$(this),root=document.documentElement;if(!button.hasClass('active')){$('#thumbnails').addClass('modal-fullscreen');if(root.webkitRequestFullScreen){root.webkitRequestFullScreen(window.Element.ALLOW_KEYBOARD_INPUT);}else if(root.mozRequestFullScreen){root.mozRequestFullScreen();}}else{$('#thumbnails').removeClass('modal-fullscreen');(document.webkitCancelFullScreen||document.mozCancelFullScreen||$.noop).apply(document);}});$('.datatable').dataTable({"sDom":"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span12'i><'span12 center'p>>","sPaginationType":"bootstrap","oLanguage":{"sLengthMenu":"_MENU_ records per page"}});$('.btn-close').click(function(e){e.preventDefault();$(this).parent().parent().parent().fadeOut();});$('.btn-minimize').click(function(e){e.preventDefault();var $target=$(this).parent().parent().next('.box-content');if($target.is(':visible'))$('i',$(this)).removeClass('icon-chevron-up').addClass('icon-chevron-down');else $('i',$(this)).removeClass('icon-chevron-down').addClass('icon-chevron-up');$target.slideToggle();});$('.btn-setting').click(function(e){e.preventDefault();$('#myModal').modal('show');});}
$.fn.dataTableExt.oApi.fnPagingInfo=function(oSettings)
{return{"iStart":oSettings._iDisplayStart,"iEnd":oSettings.fnDisplayEnd(),"iLength":oSettings._iDisplayLength,"iTotal":oSettings.fnRecordsTotal(),"iFilteredTotal":oSettings.fnRecordsDisplay(),"iPage":Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength),"iTotalPages":Math.ceil(oSettings.fnRecordsDisplay()/oSettings._iDisplayLength)};}
$.extend($.fn.dataTableExt.oPagination,{"bootstrap":{"fnInit":function(oSettings,nPaging,fnDraw){var oLang=oSettings.oLanguage.oPaginate;var fnClickHandler=function(e){e.preventDefault();if(oSettings.oApi._fnPageChange(oSettings,e.data.action)){fnDraw(oSettings);}};$(nPaging).addClass('pagination').append('<ul>'+'<li class="prev disabled"><a href="#">&larr; '+oLang.sPrevious+'</a></li>'+'<li class="next disabled"><a href="#">'+oLang.sNext+' &rarr; </a></li>'+'</ul>');var els=$('a',nPaging);$(els[0]).bind('click.DT',{action:"previous"},fnClickHandler);$(els[1]).bind('click.DT',{action:"next"},fnClickHandler);},"fnUpdate":function(oSettings,fnDraw){var iListLength=5;var oPaging=oSettings.oInstance.fnPagingInfo();var an=oSettings.aanFeatures.p;var i,j,sClass,iStart,iEnd,iHalf=Math.floor(iListLength/2);if(oPaging.iTotalPages<iListLength){iStart=1;iEnd=oPaging.iTotalPages;}
else if(oPaging.iPage<=iHalf){iStart=1;iEnd=iListLength;}else if(oPaging.iPage>=(oPaging.iTotalPages-iHalf)){iStart=oPaging.iTotalPages-iListLength+1;iEnd=oPaging.iTotalPages;}else{iStart=oPaging.iPage-iHalf+1;iEnd=iStart+iListLength-1;}
for(i=0,iLen=an.length;i<iLen;i++){$('li:gt(0)',an[i]).filter(':not(:last)').remove();for(j=iStart;j<=iEnd;j++){sClass=(j==oPaging.iPage+1)?'class="active"':'';$('<li '+sClass+'><a href="#">'+j+'</a></li>').insertBefore($('li:last',an[i])[0]).bind('click',function(e){e.preventDefault();oSettings._iDisplayStart=(parseInt($('a',this).text(),10)-1)*oPaging.iLength;fnDraw(oSettings);});}
if(oPaging.iPage===0){$('li:first',an[i]).addClass('disabled');}else{$('li:first',an[i]).removeClass('disabled');}
if(oPaging.iPage===oPaging.iTotalPages-1||oPaging.iTotalPages===0){$('li:last',an[i]).addClass('disabled');}else{$('li:last',an[i]).removeClass('disabled');}}}}});