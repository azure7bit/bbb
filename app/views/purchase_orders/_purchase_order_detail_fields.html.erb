<div id="new-item-fields" class="modal fade" data-backdrop="static">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
  </div>
  <div class="modal-body">
    <div class="box-content">
      <fieldset>
        <div class="control-group" id="items_selected">
        </div>
        <div class="control-group">
          <%= f.label "Category", :class => "control-label" %>
          <div class="controls">
            <%= text_field_tag :category_name, nil, :class => "category_name input", :required => true, :readonly => true %>
          </div>
        </div>
        <div class="control-group">
          <%= f.label :price, "Harga", :class => "control-label" %>
          <div class="controls">
            <%= f.text_field :price, :class => "purchase_price input field", :required => true, :readonly => true, :data => { :validation => "required", "validation-error-msg" => "harga harus diisi" } %>
          </div>
        </div>
        <div class="control-group">
          <%= f.label :qty, :class => "control-label" %>
          <div class="controls">
            <%= f.text_field :qty, :class => "input field number qty_po", :required => true, :readonly => true, :data => { :validation => "required", "validation-error-msg" => "qty harus diisi" }, :onkeypress=>"return numbersonly(event)" %>
          </div>
        </div>
        <div class="control-group">
          <%= f.label :subtotal, :class => "control-label" %>
          <div class="controls">
            <%= f.text_field :subtotal, :class => "subtotal input field", :required => true, :readonly => true, :data => { :validation => "required", "validation-error-msg" => "qty harus diisi" } %> 
          </div>
        </div>
      </fieldset>
      <%= f.hidden_field(:_destroy, :class => "field") %>
      <%= f.hidden_field :item_id, :class => "item_id input field", :required => true, :readonly => true %>
    </div>
  </div>
  <div class="modal-footer">
    <button id="addButton" type="button" class="btn btn-primary" data-dismiss="modal" aria-hidden="true" disabled="disabled">Add</button>
    <button id="cancelButton" type="button" class="btn btn-inverse" data-dismiss="modal" aria-hidden="true">Cancel</button>
  </div>
  <script type="text/javascript">
  $(document).ready(function() {
    itemFieldsUI.init();
    calculate();
  });
  </script>
</div>

<script type="text/javascript">
  $(document).ready(function() {
    $(".addItem").click(function() {
      var supplier_id = $("#purchase_order_supplier_id").val();
      if(supplier_id){
        $.ajax({
          url: '/purchase_orders/new',
          type: 'GET',
          data: {
            sp_id: supplier_id
          },
          success: function(data){},
          error: function(data){},
        });
      }
    });
  });
</script>